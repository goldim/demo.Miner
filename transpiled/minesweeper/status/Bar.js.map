{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "container",
    "Composite",
    "construct",
    "setLayout",
    "layout",
    "Dock",
    "__createComponents",
    "properties",
    "appearance",
    "init",
    "refine",
    "time",
    "check",
    "event",
    "statics",
    "addTrailingZeros",
    "value",
    "firstDigit",
    "secondDigit",
    "convertTime",
    "timeInSeconds",
    "minutes",
    "Math",
    "floor",
    "minuteTrailingZero",
    "seconds",
    "secondsTrailingZero",
    "members",
    "game",
    "minesweeper",
    "Game",
    "getInstance",
    "minesLeftLabel",
    "basic",
    "Atom",
    "setAppearance",
    "bind",
    "converter",
    "constructor",
    "__createComponent",
    "state",
    "status",
    "State",
    "addListener",
    "startNew",
    "timeLabel",
    "getTimer",
    "alignX",
    "edge",
    "component",
    "block",
    "HBox",
    "set",
    "add",
    "Bar"
  ],
  "sources": [
    "C:/qx/minesweeper/source/class/minesweeper/status/Bar.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   Copyright: 2023 Dmitrii Zolotov\n\n   License: MIT license\n\n   Authors: Dmitrii Zolotov (goldim) zolotovdy@yandex.ru\n\n************************************************************************ */\n\nqx.Class.define(\"minesweeper.status.Bar\", {\n    extend: qx.ui.container.Composite,\n\n    construct() {\n        // noinspection JSAnnotator\n        super();\n        this.setLayout(new qx.ui.layout.Dock());\n        this.__createComponents();\n    },\n\n    properties: {\n        appearance: {\n            init: \"status-bar\",\n            refine: true\n        },\n\n        time: {\n            init: \"--:--\",\n            check: \"String\",\n            event: \"changeTime\"\n        }\n    },\n\n    statics: {\n        addTrailingZeros(value) {\n            let firstDigit = \"\";\n            if (value < 100) {\n                firstDigit = \"0\";\n            }\n            let secondDigit = \"\";\n            if (value < 10) {\n                secondDigit = \"0\";\n            }\n            return `${firstDigit}${secondDigit}${value}`;\n        },\n\n        convertTime(timeInSeconds) {\n            const minutes = Math.floor(timeInSeconds / 60);\n            const minuteTrailingZero = minutes < 10 ? \"0\" : \"\";\n            const seconds = timeInSeconds % 60;\n            const secondsTrailingZero = seconds < 10 ? \"0\" : \"\";\n            return `${minuteTrailingZero}${minutes}:${secondsTrailingZero}${seconds}`;\n        }\n    },\n\n    members: {\n        __createComponents() {\n            const game = minesweeper.Game.getInstance();\n\n            const minesLeftLabel = new qx.ui.basic.Atom();\n            minesLeftLabel.setAppearance(\"status-label\");\n            game.bind(\"minesLeft\", minesLeftLabel, \"label\", {converter: this.constructor.addTrailingZeros});\n            this.__createComponent(\"left\", \"west\", minesLeftLabel);\n\n            const state = new minesweeper.status.State();\n            game.bind(\"state\", state, \"status\");\n            state.addListener(\"execute\", function() {\n                game.startNew();\n            }, this);\n            this.__createComponent(\"center\", \"center\", state);\n\n            const timeLabel = new qx.ui.basic.Atom();\n            timeLabel.setAppearance(\"status-label\");\n            game.getTimer().bind(\"time\", timeLabel, \"label\", {converter: this.constructor.convertTime});\n            this.__createComponent(\"right\", \"east\", timeLabel);\n        },\n\n        __createComponent(alignX, edge, component) {\n            const block = new qx.ui.container.Composite(new qx.ui.layout.HBox().set({alignX}));\n            block.add(component);\n            this.add(block, {edge});\n        }\n    }\n});\n"
  ],
  "mappings": "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"
}