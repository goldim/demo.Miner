{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "core",
    "Object",
    "type",
    "construct",
    "__timer",
    "minesweeper",
    "Timer",
    "properties",
    "minesLeft",
    "init",
    "check",
    "event",
    "difficulty",
    "value",
    "Game",
    "getDifficulties",
    "includes",
    "apply",
    "state",
    "statics",
    "DIFFICULTY_OPTIONS",
    "low",
    "mineCount",
    "colSize",
    "rowSize",
    "medium",
    "hard",
    "keys",
    "members",
    "_applyState",
    "start",
    "setMinesLeft",
    "stop",
    "_applyDifficulty",
    "setState",
    "__updateMinesLeft",
    "getMineCount",
    "startNew",
    "__extractFieldFromMap",
    "getColumnSize",
    "getRowSize",
    "constructor",
    "getDifficulty",
    "decreaseSpottedMinesByOne",
    "getMinesLeft",
    "increaseSpottedMinesByOne",
    "getTimer"
  ],
  "sources": [
    "C:/qx/minesweeper/source/class/minesweeper/Game.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   Copyright: 2023 Dmitrii Zolotov\n\n   License: MIT license\n\n   Authors: Dmitrii Zolotov (goldim) zolotovdy@yandex.ru\n\n************************************************************************ */\n\nqx.Class.define(\"minesweeper.Game\", {\n    extend: qx.core.Object,\n    type: \"singleton\",\n\n    construct() {\n        // noinspection JSAnnotator\n        super();\n        this.__timer = new minesweeper.Timer();\n    },\n\n    properties: {\n        minesLeft: {\n            init: 0,\n            check: \"Integer\",\n            event: \"changeMinesLeft\"\n        },\n\n        difficulty: {\n            init: \"low\",\n            check: function(value) {\n                return minesweeper.Game.getDifficulties().includes(value);\n            },\n            event: \"changeDifficulty\",\n            apply: \"_applyDifficulty\"\n        },\n\n        state: {\n            init: \"start\",\n            check: [\"start\", \"over\", \"success\"],\n            event: \"changeState\",\n            apply: \"_applyState\"\n        }\n    },\n\n    statics: {\n        DIFFICULTY_OPTIONS: {\n            low: {\n                mineCount: 10,\n                colSize: 9,\n                rowSize: 9\n            },\n\n            medium: {\n                mineCount: 40,\n                colSize: 16,\n                rowSize: 16\n            },\n\n            hard: {\n                mineCount: 99,\n                colSize: 30,\n                rowSize: 16\n            }\n        },\n\n        getDifficulties() {\n            return Object.keys(minesweeper.Game.DIFFICULTY_OPTIONS);\n        }\n    },\n\n    members: {\n        _applyState(state) {\n            switch (state) {\n                case \"start\":\n                    this.__timer.start();\n                    break;\n                case \"over\":\n                case \"success\":\n                    this.setMinesLeft(0);\n                    this.__timer.stop();\n                    break;\n            }\n        },\n\n        _applyDifficulty() {\n            this.setState(\"start\");\n            this.__timer.start();\n            this.__updateMinesLeft();\n        },\n\n        __updateMinesLeft() {\n            this.setMinesLeft(this.getMineCount());\n        },\n\n        startNew() {\n            this.setState(\"over\");\n            this.setState(\"start\");\n            this.__updateMinesLeft();\n        },\n\n        getMineCount() {\n            return this.__extractFieldFromMap(\"mineCount\");\n        },\n\n        getColumnSize() {\n            return this.__extractFieldFromMap(\"colSize\");\n        },\n\n        getRowSize() {\n            return this.__extractFieldFromMap(\"rowSize\");\n        },\n\n        __extractFieldFromMap(difficulty) {\n            return this.constructor.DIFFICULTY_OPTIONS[this.getDifficulty()][difficulty];\n        },\n\n        decreaseSpottedMinesByOne() {\n            this.setMinesLeft(this.getMinesLeft() + 1);\n        },\n\n        increaseSpottedMinesByOne() {\n            this.setMinesLeft(this.getMinesLeft() - 1);\n        },\n\n        getTimer() {\n            return this.__timer;\n        }\n    }\n});\n"
  ],
  "mappings": "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"
}