{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "form",
    "Button",
    "construct",
    "addListener",
    "_onRightClick",
    "_onExecute",
    "properties",
    "appearance",
    "init",
    "refine",
    "value",
    "check",
    "columnNo",
    "rowNo",
    "blocked",
    "events",
    "members",
    "getBlocked",
    "hasState",
    "addState",
    "fireEvent",
    "game",
    "minesweeper",
    "Game",
    "getInstance",
    "replaceState",
    "decreaseSpottedMinesByOne",
    "removeState",
    "getMinesLeft",
    "increaseSpottedMinesByOne",
    "Square"
  ],
  "sources": [
    "C:/qx/minesweeper/source/class/minesweeper/Square.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   Copyright: 2023 Dmitrii Zolotov\n\n   License: MIT license\n\n   Authors: Dmitrii Zolotov (goldim) zolotovdy@yandex.ru\n\n************************************************************************ */\n\nqx.Class.define(\"minesweeper.Square\", {\n    extend: qx.ui.form.Button,\n\n    construct() {\n        // noinspection JSAnnotator\n        super(\"\");\n        this.addListener(\"contextmenu\", this._onRightClick, this);\n        this.addListener(\"execute\", this._onExecute, this);\n    },\n\n    properties: {\n        appearance: {\n            init: \"square\",\n            refine: true\n        },\n\n        value: {\n            init: 0,\n            check: \"Integer\"\n        },\n\n        columnNo: {\n            init: 0,\n            check: \"Integer\"\n        },\n\n        rowNo: {\n            init: 0,\n            check: \"Integer\"\n        },\n\n        blocked: {\n            init: false,\n            check: \"Boolean\"\n        }\n    },\n\n    events: {\n        \"open\": \"qx.event.type.Event\",\n        \"blast\": \"qx.event.type.Event\"\n    },\n\n    members: {\n        _onExecute() {\n            if (this.getBlocked()) {\n                return;\n            }\n            if (!this.hasState(\"flagged\")) {\n                if (this.hasState(\"mined\")) {\n                    this.addState(\"blasted\");\n                    this.fireEvent(\"blast\");\n                } else {\n                    this.fireEvent(\"open\");\n                }\n            }\n        },\n\n        _onRightClick() {\n            if (this.getBlocked()) {\n                return;\n            }\n            const game = minesweeper.Game.getInstance();\n\n            if (this.hasState(\"flagged\")) {\n                this.replaceState(\"flagged\", \"questioned\");\n                game.decreaseSpottedMinesByOne();\n            } else if (this.hasState(\"questioned\")) {\n                this.removeState(\"questioned\");\n            } else if (!(minesweeper.Game.getInstance().getMinesLeft() === 0 && !this.hasState(\"flagged\"))) {\n                this.addState(\"flagged\");\n                game.increaseSpottedMinesByOne();\n            }\n        }\n    }\n});\n"
  ],
  "mappings": ";;;;;;;;;;;;;;EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;EAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAEAH,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,oBAAhB,EAAsC;IAClCC,MAAM,EAAEN,EAAE,CAACO,EAAH,CAAMC,IAAN,CAAWC,MADe;IAGlCC,SAHkC,uBAGtB;MACR;MACA,yCAAM,EAAN;MACA,KAAKC,WAAL,CAAiB,aAAjB,EAAgC,KAAKC,aAArC,EAAoD,IAApD;MACA,KAAKD,WAAL,CAAiB,SAAjB,EAA4B,KAAKE,UAAjC,EAA6C,IAA7C;IACH,CARiC;IAUlCC,UAAU,EAAE;MACRC,UAAU,EAAE;QACRC,IAAI,EAAE,QADE;QAERC,MAAM,EAAE;MAFA,CADJ;MAMRC,KAAK,EAAE;QACHF,IAAI,EAAE,CADH;QAEHG,KAAK,EAAE;MAFJ,CANC;MAWRC,QAAQ,EAAE;QACNJ,IAAI,EAAE,CADA;QAENG,KAAK,EAAE;MAFD,CAXF;MAgBRE,KAAK,EAAE;QACHL,IAAI,EAAE,CADH;QAEHG,KAAK,EAAE;MAFJ,CAhBC;MAqBRG,OAAO,EAAE;QACLN,IAAI,EAAE,KADD;QAELG,KAAK,EAAE;MAFF;IArBD,CAVsB;IAqClCI,MAAM,EAAE;MACJ,QAAQ,qBADJ;MAEJ,SAAS;IAFL,CArC0B;IA0ClCC,OAAO,EAAE;MACLX,UADK,wBACQ;QACT,IAAI,KAAKY,UAAL,EAAJ,EAAuB;UACnB;QACH;;QACD,IAAI,CAAC,KAAKC,QAAL,CAAc,SAAd,CAAL,EAA+B;UAC3B,IAAI,KAAKA,QAAL,CAAc,OAAd,CAAJ,EAA4B;YACxB,KAAKC,QAAL,CAAc,SAAd;YACA,KAAKC,SAAL,CAAe,OAAf;UACH,CAHD,MAGO;YACH,KAAKA,SAAL,CAAe,MAAf;UACH;QACJ;MACJ,CAbI;MAeLhB,aAfK,2BAeW;QACZ,IAAI,KAAKa,UAAL,EAAJ,EAAuB;UACnB;QACH;;QACD,IAAMI,IAAI,GAAGC,WAAW,CAACC,IAAZ,CAAiBC,WAAjB,EAAb;;QAEA,IAAI,KAAKN,QAAL,CAAc,SAAd,CAAJ,EAA8B;UAC1B,KAAKO,YAAL,CAAkB,SAAlB,EAA6B,YAA7B;UACAJ,IAAI,CAACK,yBAAL;QACH,CAHD,MAGO,IAAI,KAAKR,QAAL,CAAc,YAAd,CAAJ,EAAiC;UACpC,KAAKS,WAAL,CAAiB,YAAjB;QACH,CAFM,MAEA,IAAI,EAAEL,WAAW,CAACC,IAAZ,CAAiBC,WAAjB,GAA+BI,YAA/B,OAAkD,CAAlD,IAAuD,CAAC,KAAKV,QAAL,CAAc,SAAd,CAA1D,CAAJ,EAAyF;UAC5F,KAAKC,QAAL,CAAc,SAAd;UACAE,IAAI,CAACQ,yBAAL;QACH;MACJ;IA9BI;EA1CyB,CAAtC;EAVAP,WAAW,CAACQ,MAAZ,CAAmBnC,aAAnB,GAAmCA,aAAnC"
}