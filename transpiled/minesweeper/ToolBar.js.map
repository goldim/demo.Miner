{
  "version": 3,
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "toolbar",
    "ToolBar",
    "include",
    "locale",
    "MTranslation",
    "construct",
    "__createComponents",
    "__aboutWindow",
    "minesweeper",
    "window",
    "About",
    "Desktop",
    "getInstance",
    "add",
    "members",
    "__createGameMenu",
    "__createAboutMenu",
    "button",
    "MenuButton",
    "tr",
    "setMenu",
    "getGameMenu",
    "menu",
    "Menu",
    "newButton",
    "Button",
    "addListener",
    "Game",
    "startNew",
    "difficultyButton",
    "__createDifficultyMenu",
    "languageButton",
    "__createLanguageMenu",
    "difficulties",
    "getDifficulties",
    "difficultyGroup",
    "form",
    "RadioGroup",
    "forEach",
    "difficulty",
    "capitalized",
    "lang",
    "String",
    "firstUp",
    "RadioButton",
    "e",
    "value",
    "firstLow",
    "getData",
    "getLabel",
    "setDifficulty",
    "languages",
    "Manager",
    "getAvailableLocales",
    "languageGroup",
    "language",
    "setLocale",
    "getValue",
    "menuButton",
    "aboutButton",
    "_onAboutButton",
    "open"
  ],
  "sources": [
    "C:/qx/minesweeper/source/class/minesweeper/ToolBar.js"
  ],
  "sourcesContent": [
    "/* ************************************************************************\n\n   Copyright: 2023 Dmitrii Zolotov\n\n   License: MIT license\n\n   Authors: Dmitrii Zolotov (goldim) zolotovdy@yandex.ru\n\n************************************************************************ */\n\nqx.Class.define(\"minesweeper.ToolBar\", {\n    extend: qx.ui.toolbar.ToolBar,\n    include: qx.locale.MTranslation,\n\n    construct() {\n        // noinspection JSAnnotator\n        super();\n        this.__createComponents();\n        this.__aboutWindow = new minesweeper.window.About();\n        minesweeper.window.Desktop.getInstance().add(this.__aboutWindow);\n    },\n\n    members: {\n        __createComponents() {\n            this.add(this.__createGameMenu());\n            this.add(this.__createAboutMenu());\n        },\n\n        __createGameMenu() {\n            const button = new qx.ui.toolbar.MenuButton(this.tr(\"Game\"));\n            button.setMenu(this.getGameMenu());\n            return button;\n        },\n\n        getGameMenu() {\n            const menu = new qx.ui.menu.Menu();\n            const newButton = new qx.ui.menu.Button(this.tr(\"New\"));\n            newButton.addListener(\"execute\", function() {\n                minesweeper.Game.getInstance().startNew();\n            }, this);\n            menu.add(newButton);\n\n            const difficultyButton = new qx.ui.menu.Button(this.tr(\"Difficulty\"));\n            difficultyButton.setMenu(this.__createDifficultyMenu());\n            menu.add(difficultyButton);\n\n            const languageButton = new qx.ui.menu.Button(this.tr(\"Language\"));\n            languageButton.setMenu(this.__createLanguageMenu());\n            menu.add(languageButton);\n\n            return menu;\n        },\n\n        __createDifficultyMenu() {\n            const menu = new qx.ui.menu.Menu();\n            const difficulties = minesweeper.Game.getDifficulties();\n            const difficultyGroup = new qx.ui.form.RadioGroup();\n            difficulties.forEach(difficulty => {\n                const capitalized = qx.lang.String.firstUp(difficulty);\n                const button = new qx.ui.menu.RadioButton(capitalized, null);\n                menu.add(button);\n                difficultyGroup.add(button);\n            });\n            difficultyGroup.addListener(\"changeValue\", function(e) {\n                const value = qx.lang.String.firstLow(e.getData().getLabel());\n                minesweeper.Game.getInstance().setDifficulty(value);\n            }, this);\n            return menu;\n        },\n\n        __createLanguageMenu() {\n            const menu = new qx.ui.menu.Menu();\n            const languages = qx.locale.Manager.getInstance().getAvailableLocales();\n            const languageGroup = new qx.ui.form.RadioGroup();\n            languages.forEach(language => {\n                const capitalized = qx.lang.String.firstUp(language);\n                const button = new qx.ui.menu.RadioButton(capitalized, null);\n                menu.add(button);\n                languageGroup.add(button);\n            });\n            languageGroup.addListener(\"changeValue\", function(e) {\n                const locale = qx.lang.String.firstLow(e.getData().getLabel());\n                qx.locale.Manager.getInstance().setLocale(locale);\n            }, this);\n            qx.locale.Manager.getInstance().setLocale(qx.lang.String.firstLow(languageGroup.getValue().getLabel()));\n            return menu;\n        },\n\n\n        __createAboutMenu() {\n            const menuButton = new qx.ui.toolbar.MenuButton(this.tr(\"Help\"));\n            const menu = new qx.ui.menu.Menu();\n            menuButton.setMenu(menu);\n            const aboutButton = new qx.ui.menu.Button(this.tr(\"About\"));\n            aboutButton.addListener(\"execute\", this._onAboutButton, this);\n            menu.add(aboutButton);\n            return menuButton;\n        },\n\n        _onAboutButton() {\n            this.__aboutWindow.open();\n        }\n    }\n});\n"
  ],
  "mappings": "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"
}